# 03. AWS Elastic Beanstalk へのデプロイ手順

このドキュメントでは、Spring Boot アプリケーションを AWS Elastic Beanstalk にデプロイするための基本手順をまとめます。

---

## ☁ 使用サービス構成

- **EC2**：アプリケーションが動作する仮想サーバー
- **Elastic Beanstalk**：アプリケーションのデプロイ・スケーリングを管理
- **RDS（Aurora）**：バックエンドデータベース（別途構成）

---

## 📦 前提条件

- AWS アカウントが作成済み
- AWS CLI がローカルにインストール済み
- Spring Boot アプリが `.jar` でビルド可能

---

## 🛠 デプロイ手順

### 1. アプリケーションをビルド

```bash
./mvnw clean package
```

`target/` フォルダに `springboot-book-api-0.0.1-SNAPSHOT.jar` などが生成されることを確認。

---

### 2. Beanstalk 用アプリケーション作成（初回のみ）

```bash
eb init
```

- 対話形式で設定
  - 言語：`Java`
  - プラットフォーム：`Corretto 11`
  - リージョン：例）`ap-northeast-1`（東京）
  - キーペア：既存の EC2 キーペアを選択

---

### 3. 環境作成（初回のみ）

```bash
eb create springboot-api-env
```

- `springboot-api-env` は任意の環境名  
- 数分かかります

---

### 4. デプロイ実行

```bash
eb deploy
```

---

### 5. アクセス確認

```text
https://<環境名>.<リージョン>.elasticbeanstalk.com/
```

Spring Boot アプリケーションがデプロイされていることを確認。

---

## 📁 `.elasticbeanstalk/config.yml` の例

```yaml
global:
  application_name: springboot-api-app
  default_region: ap-northeast-1
  platform: Corretto 11
  branch-defaults:
    default:
      environment: springboot-api-env
```

---

## 💡 補足

- 環境変数の設定はマネジメントコンソールからも可能
- データベース接続先（Aurora）や、ログ出力設定も後ほど追加予定
- `eb status` で環境の状態確認可能

---

``今後の拡張
- DB 接続（Aurora RDS）
- Custom Domain の設定
- TLS（https）対応
``

